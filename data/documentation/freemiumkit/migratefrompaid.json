{"sections":[],"abstract":[{"text":"Learn how to migrate from a paid-up-front app to the Freemium model using FreemiumKit in 3 simple steps, while preserving access to your app for those who already purchased.","type":"text"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/FreemiumKit\/documentation\/FreemiumKit\/MigrateFromPaid"},"primaryContentSections":[{"content":[{"anchor":"Step-1-Set-up-FreemiumKit-like-normally","type":"heading","level":2,"text":"Step 1: Set up FreemiumKit like normally"},{"inlineContent":[{"type":"text","text":"Add your app inside the FreemiumKit app and follow all instructions to set up your app for In-App Purchases like you would normally do (see Setup tab inside the Mac app). Just act like your app is already free to use and make sure to lock any features you want to hide behind paid tiers using the SDK features from our "},{"type":"reference","identifier":"doc:\/\/FreemiumKit\/documentation\/FreemiumKit\/SetupGuide","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"anchor":"Step-2-Tell-our-SDK-the-last-paid-version","type":"heading","level":2,"text":"Step 2: Tell our SDK the last paid version"},{"inlineContent":[{"type":"text","text":"In order to continue giving users who had already purchased your app previously full access to your apps features, you need to tell our SDK which was the last version and build number sold as a paid-up-front app. Our SDK will then use Apples "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/storekit\/supporting_business_model_changes_by_using_the_app_transaction"},{"type":"text","text":" in StoreKit to automatically detect those users for you, there‚Äôs nothing else you need to do. Just call this, e.g. in your app entry point:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["import FreemiumKit","","@main","struct AwesomeApp: App {","   init() {","      FreemiumKit.shared.lastPaidRelease(version: \"1.5.1\", buildNum: 25)","   }","   \/\/ ...","}"]},{"name":"Requirements","type":"aside","style":"note","content":[{"inlineContent":[{"text":"Apple has introduced the ","type":"text"},{"code":"AppTransaction","type":"codeVoice"},{"text":" API for this purpose in 2022 with iOS 16. Therefore, this guide only works if you target your ","type":"text"},{"inlineContent":[{"type":"text","text":"new"}],"type":"emphasis"},{"text":" Freemium app version to iOS 16 (or macOS 13, tvOS 16, watchOS 9) or later.","type":"text"}],"type":"paragraph"}]},{"name":"Warning","type":"aside","style":"warning","content":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"AppTransaction","type":"codeVoice"},{"text":" API Apple offers to detect the first downloaded app version returns the version (e.g. ","type":"text"},{"code":"1.5.1","type":"codeVoice"},{"text":") on macOS but the build number (e.g. ","type":"text"},{"code":"25","type":"codeVoice"},{"text":") on all other platforms, including iOS. But only on macOS of all platforms (where it‚Äôs not relevant) Apple requires new app versions to have a ","type":"text"},{"inlineContent":[{"type":"text","text":"higher"}],"type":"emphasis"},{"text":" build number, but not on iOS. As long as you increase the version number (e.g. from ","type":"text"},{"code":"1.5.1","type":"codeVoice"},{"text":" to ","type":"text"},{"code":"1.5.2","type":"codeVoice"},{"text":") you can always go back to build number ","type":"text"},{"code":"1","type":"codeVoice"},{"text":" in iOS even if you were at build ","type":"text"},{"code":"25","type":"codeVoice"},{"text":" in version ","type":"text"},{"code":"1.5.1","type":"codeVoice"},{"text":". This is a huge problem, because on iOS the paid app migration check requires a higher build number (which is not required on app updates), not just a higher version number! So the reported values of this API are exactly reversed to the App Store requirements.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"So for this check to work, make sure to ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"always"}]},{"text":" increase your build number from now on if you haven‚Äôt already ‚Äì especially if you‚Äôre targeting iOS. Also, if you had been resetting your build number to ","type":"text"},{"type":"codeVoice","code":"1"},{"text":" in the past, make sure to pass the highest build number you‚Äôve ever shipped your app with when calling ","type":"text"},{"type":"codeVoice","code":"lastPaidRelease(version:buildNum:)"},{"text":" and start with the next number for your future releases. E.g. if ","type":"text"},{"type":"codeVoice","code":"5"},{"text":" was your latest released build number, but you had a version with build ","type":"text"},{"type":"codeVoice","code":"25"},{"text":" in the past, pass ","type":"text"},{"type":"codeVoice","code":"25"},{"text":" for the ","type":"text"},{"type":"codeVoice","code":"buildNum"},{"text":" and start your build number at ","type":"text"},{"type":"codeVoice","code":"26"},{"text":" for your next release and never go below that in future updates.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To be extra clear: From now on, never ship a build number that is lower or equal to your "},{"code":"lastPaidRelease","type":"codeVoice"},{"type":"text","text":" build number. If you do that, you‚Äôre effectively giving away your app for free. You could easily fix that with a new update that brings the build number back up (if you accidentally do go below), but for users who use exactly the version with a build number below (or equal) to your "},{"code":"lastPaidRelease","type":"codeVoice"},{"type":"text","text":", it‚Äôll be like they had purchased your paid-up-front app. You‚Äôve been warned!"}]}]},{"anchor":"Step-3-Submit-a-new-version--make-your-app-free","type":"heading","level":2,"text":"Step 3: Submit a new version & make your app free"},{"inlineContent":[{"type":"text","text":"With everything ready and tested, set your app to ‚ÄúManually release this version‚Äù and submit it to the App Store."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Once your update is approved, release your version and immediately after that set your app pricing to ‚ÄúFree‚Äù. This will ensure that no one can download your previous (paid) version for free but also no one has to pay for the new Freemium version."}],"type":"paragraph"},{"inlineContent":[{"text":"That‚Äôs it, you successfully migrated your paid app to the Freemium model!","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The FreemiumKit SDK will automatically treat any users who had paid for your app previously like someone who purchased your highest tier for Lifetime. This means calls to APIs like "},{"code":"PaidFeatureButton","type":"codeVoice"},{"type":"text","text":", "},{"code":"purchasedTier","type":"codeVoice"},{"type":"text","text":" or "},{"code":"hasPurchased","type":"codeVoice"},{"type":"text","text":" will behave like for an active subscriber. üéâ"}],"type":"paragraph"},{"name":"Tip","type":"aside","style":"tip","content":[{"inlineContent":[{"text":"If you want to particularly know if the current user is a paid-up-front puchaser who upgraded (e.g. to give them extras like an ‚ÄòEarly Adopter‚Äô badge), you can call ","type":"text"},{"type":"codeVoice","code":"hasUpgradedFromPaidRelease"},{"text":" on ","type":"text"},{"type":"codeVoice","code":"FreemiumKit.shared"},{"text":" or on the FreemiumKit ","type":"text"},{"type":"codeVoice","code":"@EnvironmentObject"},{"text":".","type":"text"}],"type":"paragraph"}]},{"inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/freemiumkit.app"}],"type":"paragraph"},{"anchor":"Contact","type":"heading","level":2,"text":"Contact"},{"inlineContent":[{"type":"text","text":"Have questions or need support? Reach out to me at "},{"isActive":true,"type":"reference","identifier":"mailto:freemiumkit@fline.dev"},{"type":"text","text":"."}],"type":"paragraph"},{"anchor":"Legal","type":"heading","level":2,"text":"Legal"},{"inlineContent":[{"type":"text","text":"Cihat G√ºnd√ºz ¬© 2024. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Privacy: No personal data is tracked on this site."},{"type":"text","text":" "},{"identifier":"https:\/\/www.fline.dev\/imprint\/","type":"reference","isActive":true}],"type":"small"}],"kind":"content"}],"schemaVersion":{"minor":3,"patch":0,"major":0},"kind":"article","hierarchy":{"paths":[["doc:\/\/FreemiumKit\/documentation\/Index"]]},"seeAlsoSections":[{"identifiers":["doc:\/\/FreemiumKit\/documentation\/FreemiumKit\/SetupGuide","doc:\/\/FreemiumKit\/documentation\/FreemiumKit\/AppReviewChecklist","doc:\/\/FreemiumKit\/documentation\/FreemiumKit\/FAQs"],"generated":true}],"metadata":{"role":"article","title":"Paid to Freemium Migration Guide","images":[{"type":"icon","identifier":"FreemiumKit.png"}],"roleHeading":"FreemiumKit"},"references":{"FreemiumKit.png":{"identifier":"FreemiumKit.png","alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/FreemiumKit.png"}]},"https://www.fline.dev/imprint/":{"identifier":"https:\/\/www.fline.dev\/imprint\/","type":"link","url":"https:\/\/www.fline.dev\/imprint\/","titleInlineContent":[{"text":"Imprint","type":"text"}],"title":"Imprint"},"doc://FreemiumKit/documentation/FreemiumKit/FAQs":{"images":[{"type":"icon","identifier":"FreemiumKit.png"}],"kind":"article","type":"topic","url":"\/documentation\/freemiumkit\/faqs","identifier":"doc:\/\/FreemiumKit\/documentation\/FreemiumKit\/FAQs","title":"FAQs","role":"article","abstract":[{"type":"text","text":"The most frequently asked questions about FreemiumKit."}]},"doc://FreemiumKit/documentation/Index":{"images":[{"type":"icon","identifier":"FreemiumKit.png"}],"kind":"article","type":"topic","url":"\/documentation\/index","identifier":"doc:\/\/FreemiumKit\/documentation\/Index","title":"FreemiumKit","role":"collection","abstract":[{"text":"Simple In-App Purchases and Subscriptions for Apple Platforms:","type":"text"},{"text":" ","type":"text"},{"text":"Automation, Paywalls, A\/B Testing, Live Notifications, PPP, and more.","type":"text"}]},"https://freemiumkit.app":{"identifier":"https:\/\/freemiumkit.app","type":"link","url":"https:\/\/freemiumkit.app","titleInlineContent":[{"text":"üè† Back to Home","type":"text"}],"title":"üè† Back to Home"},"https://developer.apple.com/documentation/storekit/supporting_business_model_changes_by_using_the_app_transaction":{"identifier":"https:\/\/developer.apple.com\/documentation\/storekit\/supporting_business_model_changes_by_using_the_app_transaction","type":"link","url":"https:\/\/developer.apple.com\/documentation\/storekit\/supporting_business_model_changes_by_using_the_app_transaction","titleInlineContent":[{"text":"built-in solution","type":"text"}],"title":"built-in solution"},"doc://FreemiumKit/documentation/FreemiumKit/SetupGuide":{"title":"SDK Setup Guide","type":"topic","kind":"article","url":"\/documentation\/freemiumkit\/setupguide","images":[{"identifier":"FreemiumKit.png","type":"icon"}],"role":"article","identifier":"doc:\/\/FreemiumKit\/documentation\/FreemiumKit\/SetupGuide","abstract":[{"text":"Learn how to set up your app for our paywalls and live push notifications.","type":"text"}]},"doc://FreemiumKit/documentation/FreemiumKit/AppReviewChecklist":{"title":"Checklist to Pass App Review","kind":"article","url":"\/documentation\/freemiumkit\/appreviewchecklist","abstract":[{"text":"This checklist helps developers using FreemiumKit to navigate Apple‚Äôs app review process for apps with in-app purchases (IAPs).","type":"text"}],"role":"article","images":[{"type":"icon","identifier":"FreemiumKit.png"}],"type":"topic","identifier":"doc:\/\/FreemiumKit\/documentation\/FreemiumKit\/AppReviewChecklist"},"mailto:freemiumkit@fline.dev":{"identifier":"mailto:freemiumkit@fline.dev","type":"link","url":"mailto:freemiumkit@fline.dev","titleInlineContent":[{"text":"freemiumkit@fline.dev","type":"text"}],"title":"freemiumkit@fline.dev"}}}